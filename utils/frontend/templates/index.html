<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magnification | Job Search Tracker</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/components.css">
    <link rel="stylesheet" href="static/css/modal.css">

    <!-- Custom Config for Light Theme -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9', // Sky blue
                            600: '#0284c7',
                            700: '#0369a1',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0', // Slate gray borders
                            800: '#1e293b', // Dark text
                        },
                        neon: {
                            blue: '#00f3ff',     // Cyan
                            purple: '#bf00ff',   // Electric Purple
                            green: '#00ff9d',    // Neon Green
                            pink: '#ff0055',     // Hot Pink
                            black: '#0f0f0f',    // Main Dark Bg (lightened)
                            gray: '#1a1a1a',     // Card Dark Bg
                            'gray-light': '#252525', // Light Card Bg
                            border: '#2a2a2a',   // Dark Border (lightened)
                            'border-light': '#3a3a3a' // Lighter Border
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="text-slate-800 antialiased h-screen flex flex-col overflow-hidden">

    <!-- Include Header -->
    <div id="header-container"></div>

    <!-- Include Mobile Navigation -->
    <div id="mobile-nav-container"></div>

    <!-- Main Content Layout -->
    <div class="flex flex-1 overflow-hidden relative">
        
        <!-- Include Sidebar -->
        <div id="sidebar-container"></div>

        <!-- Main View Container -->
        <main class="flex-1 overflow-y-auto bg-slate-100 dark:bg-neon-gray p-4 sm:p-8 pb-20 md:pb-8 transition-colors duration-300" id="mainContainer">
            
            <!-- Include New Jobs View -->
            <div id="new-jobs-container"></div>

            <!-- Include Tracker View -->
            <div id="tracker-container"></div>

        </main>

        <!-- Include Job Detail Panel -->
        <div id="job-detail-panel-container"></div>

    </div>

    <!-- JavaScript: Load Order Matters -->
    <script src="static/js/data.js"></script>
    <script src="static/js/helpers.js"></script>
    <script src="static/js/renderers.js"></script>
    <script src="static/js/components/find_jobs_modal.js"></script>
    <script src="static/js/handlers.js"></script>
    <script src="static/js/app.js"></script>

    <!-- Load HTML Partials -->
    <script>
        // Helper function to load HTML partials
        async function loadPartial(containerId, filePath) {
            try {
                const response = await fetch(filePath);
                const html = await response.text();
                document.getElementById(containerId).innerHTML = html;
            } catch (error) {
                console.error(`Error loading ${filePath}:`, error);
            }
        }

        // Load all partials on page load
        document.addEventListener('DOMContentLoaded', async function() {
            await Promise.all([
                loadPartial('header-container', 'parts/header.html'),
                loadPartial('mobile-nav-container', 'parts/mobile-nav.html'),
                loadPartial('sidebar-container', 'parts/sidebar.html'),
                loadPartial('new-jobs-container', 'primary/new-jobs.html'),
                loadPartial('tracker-container', 'primary/tracker.html'),
                loadPartial('job-detail-panel-container', 'parts/job-detail-panel.html')
            ]);

            // Initialize App Logic after views are loaded
            if (typeof initApp === 'function') {
                initApp();
            }
        });
    </script>

</body>
</html>